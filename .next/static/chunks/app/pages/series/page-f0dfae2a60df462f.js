(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{8625:function(e,t,r){Promise.resolve().then(r.bind(r,1249))},1249:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(7437),n=r(2265),s=r(7138),l=r(1422),i=r(6648);function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(1),[o,u]=(0,n.useState)(1),[h,d]=(0,n.useState)(0),[x,f]=(0,n.useState)(""),[m,p]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{await w(r),await g()})()},[r]);let g=async()=>{try{let e=await fetch("http://85.215.137.122:8081/getcountseries");if(e.ok){let t=await e.json();d(t.totalSeries)}}catch(e){e instanceof Error?console.error("Erreur: ".concat(e.message)):console.error("Une erreur inconnue est survenue")}},w=async e=>{try{let r=await fetch("http://85.215.137.122:8081/getseries?page=".concat(e));if(r.ok){let e=await r.json(),a=e.series.map(e=>({...e,seasonNumber:y(e.name)}));t(a),p(a),u(e.totalPages)}}catch(e){e instanceof Error?console.error("Erreur: ".concat(e.message)):console.error("Une erreur inconnue est survenue")}},y=e=>{let t=e.match(/ - Saison (\d+)/);return t?t[1]:"1"};return(0,n.useEffect)(()=>{p(e.filter(e=>e.name.toLowerCase().includes(x.toLowerCase())))},[x,e]),(0,a.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between bg-slate-900",children:[(0,a.jsxs)("nav",{className:"fixed top-3 left-1/2 transform -translate-x-1/2 bg-black/50 backdrop-blur-md text-white z-50 py-4 px-6 md:px-12 flex justify-between items-center rounded-xl w-full md:w-3/4 max-w-5xl",children:[(0,a.jsx)(s.default,{href:"/",className:"text-xl font-bold",children:"MSTREAM"}),(0,a.jsxs)("div",{className:"hidden md:flex space-x-6 items-center",children:[(0,a.jsx)(s.default,{href:"/pages/series",className:"hover:text-blue-400",children:"Series"}),(0,a.jsx)(s.default,{href:"/pages/films",className:"hover:text-blue-400",children:"Films"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center flex-grow pt-20",children:[(0,a.jsx)("h1",{className:"text-5xl md:text-6xl font-extrabold text-white",children:"Series"}),(0,a.jsxs)("h2",{className:"text-xl md:text-2xl",children:[(0,a.jsx)("br",{}),"Il y a actuellement ",h," s\xe9ries disponibles sur MS-Project",(0,a.jsx)("br",{})]}),(0,a.jsx)("input",{type:"text",placeholder:"Rechercher une s\xe9rie...",value:x,onChange:e=>f(e.target.value),className:"bg-gray-800 text-white px-4 py-2 rounded"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-4 p-4",children:m.map(e=>(0,a.jsxs)(s.default,{href:"/pages/watchseries?id=".concat(e.id),className:"relative group block rounded-lg overflow-hidden bg-gray-800 hover:bg-gray-700 transition-transform transform hover:scale-105",children:[(0,a.jsx)(i.default,{src:e.image,alt:e.name,className:"w-full h-72 object-cover",width:500,height:750}),(0,a.jsxs)("div",{className:"absolute top-0 left-0 m-2 text-xs bg-black bg-opacity-70 text-white px-2 py-1 rounded",children:["Saison ",e.seasonNumber]}),(0,a.jsx)("div",{className:"absolute top-0 right-0 m-2 text-xs bg-black bg-opacity-70 text-white px-2 py-1 rounded",children:e.language}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity duration-300 flex justify-center items-center text-center p-4 opacity-0 group-hover:opacity-100",children:(0,a.jsx)("div",{className:"text-lg font-bold",children:e.name})})]},e.id))}),(0,a.jsx)("div",{className:"pagination flex gap-2 mt-4",children:(()=>{let e=[];return r>1&&(e.push((0,a.jsx)("button",{onClick:()=>c(1),children:"1"},"first")),r>2&&e.push((0,a.jsx)("button",{onClick:()=>c(r-1),children:r-1},"prev"))),e.push((0,a.jsx)("button",{className:"active",children:r},"current")),r<o&&(r<o-1&&e.push((0,a.jsx)("button",{onClick:()=>c(r+1),children:r+1},"next")),e.push((0,a.jsx)("button",{onClick:()=>c(o),children:o},"last"))),e})()}),(0,a.jsx)(l.Z,{className:"absolute inset-0 pointer-events-none",quantity:100}),(0,a.jsx)("div",{className:"fixed top-0 left-0 rotate-180 -translate-x-3/4 -scale-x-100 blur-3xl opacity-70 pointer-events-none","aria-hidden":"true",children:(0,a.jsx)(i.default,{src:"https://cruip-tutorials.vercel.app/particle-animation/shape.svg",className:"max-w-none",width:852,height:582,alt:"Illustration"})}),(0,a.jsx)("div",{className:"fixed top-0 right-0 -translate-y-1/2 translate-x-1/4 blur-3xl opacity-70 pointer-events-none","aria-hidden":"true",children:(0,a.jsx)(i.default,{src:"https://cruip-tutorials.vercel.app/particle-animation/shape.svg",className:"max-w-none w-full h-auto",width:852,height:582,alt:"Illustration"})})]})}},1422:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437),n=r(2265);function s(e){let{className:t="",quantity:r=30,staticity:s=50,ease:l=50}=e,i=(0,n.useRef)(null),c=(0,n.useRef)(null),o=(0,n.useRef)(null),u=(0,n.useRef)([]),h=function(){let[e,t]=(0,n.useState)({x:0,y:0});return(0,n.useEffect)(()=>{let e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),e}(),d=(0,n.useRef)({x:0,y:0}),x=(0,n.useRef)({w:0,h:0}),f=window.devicePixelRatio;(0,n.useEffect)(()=>(i.current&&(o.current=i.current.getContext("2d")),m(),N(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),(0,n.useEffect)(()=>{p()},[h.x,h.y]);let m=()=>{g(),v()},p=()=>{if(i.current){let e=i.current.getBoundingClientRect(),{w:t,h:r}=x.current,a=h.x-e.left-t/2,n=h.y-e.top-r/2;a<t/2&&a>-t/2&&n<r/2&&n>-r/2&&(d.current.x=a,d.current.y=n)}},g=()=>{c.current&&i.current&&o.current&&(u.current.length=0,x.current.w=c.current.offsetWidth,x.current.h=c.current.offsetHeight,i.current.width=x.current.w*f,i.current.height=x.current.h*f,i.current.style.width=x.current.w+"px",i.current.style.height=x.current.h+"px",o.current.scale(f,f))},w=()=>{let e=Math.floor(Math.random()*x.current.w);return{x:e,y:Math.floor(Math.random()*x.current.h),translateX:0,translateY:0,size:Math.floor(2*Math.random())+1,alpha:0,targetAlpha:parseFloat((.6*Math.random()+.1).toFixed(1)),dx:(Math.random()-.5)*.2,dy:(Math.random()-.5)*.2,magnetism:.1+4*Math.random()}},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o.current){let{x:r,y:a,translateX:n,translateY:s,size:l,alpha:i}=e;o.current.translate(n,s),o.current.beginPath(),o.current.arc(r,a,l,0,2*Math.PI),o.current.fillStyle="rgba(72, 66, 245, ".concat(i,")"),o.current.fill(),o.current.setTransform(f,0,0,f,0,0),t||u.current.push(e)}},b=()=>{o.current&&o.current.clearRect(0,0,x.current.w,x.current.h)},v=()=>{b();for(let e=0;e<r;e++)y(w())},j=(e,t,r,a,n)=>{let s=(e-t)*(n-a)/(r-t)+a;return s>0?s:0},N=()=>{b(),u.current.forEach((e,t)=>{let r=parseFloat(j([e.x+e.translateX-e.size,x.current.w-e.x-e.translateX-e.size,e.y+e.translateY-e.size,x.current.h-e.y-e.translateY-e.size].reduce((e,t)=>Math.min(e,t)),0,20,0,1).toFixed(2));r>1?(e.alpha+=.02,e.alpha>e.targetAlpha&&(e.alpha=e.targetAlpha)):e.alpha=e.targetAlpha*r,e.x+=e.dx,e.y+=e.dy,e.translateX+=(d.current.x/(s/e.magnetism)-e.translateX)/l,e.translateY+=(d.current.y/(s/e.magnetism)-e.translateY)/l,e.x<-e.size||e.x>x.current.w+e.size||e.y<-e.size||e.y>x.current.h+e.size?(u.current.splice(t,1),y(w())):y({...e,x:e.x,y:e.y,translateX:e.translateX,translateY:e.translateY,alpha:e.alpha},!0)}),window.requestAnimationFrame(N)};return(0,a.jsx)("div",{className:t,ref:c,"aria-hidden":"true",children:(0,a.jsx)("canvas",{ref:i})})}}},function(e){e.O(0,[138,648,971,23,744],function(){return e(e.s=8625)}),_N_E=e.O()}]);