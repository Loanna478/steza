(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{331:function(e,t,r){Promise.resolve().then(r.bind(r,3852))},3852:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(7437),a=r(2265),s=r(6463),l=r(7138),c=r(1422);function i(){(0,s.useRouter)();let[e,t]=(0,a.useState)(null),r=(0,s.useSearchParams)();(0,a.useEffect)(()=>{t(r.get("id"))},[r]);let[i,u]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),h=(0,a.useCallback)(async e=>{d(!0);try{let t=await fetch("http://85.215.137.122:8081/getfilmbyid?id=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){let e=await t.json();u(e.film)}else console.error("Erreur lors de la r\xe9cup\xe9ration du film:",t.statusText)}catch(e){e instanceof Error?console.error("Erreur: ".concat(e.message)):console.error("Une erreur inconnue est survenue")}finally{d(!1)}},[]);(0,a.useEffect)(()=>{e&&h(e)},[e,h]);let f=async()=>{if(e)try{(await fetch("http://85.215.137.122:8081/reportIssue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filmId:e,issue:"Video not working"})})).ok?alert("Issue reported successfully."):alert("Failed to report the issue.")}catch(e){console.error("Error reporting issue:",e),alert("An error occurred while reporting the issue.")}};return i?(0,n.jsxs)("div",{className:"flex flex-col min-h-screen bg-slate-900 text-white",children:[(0,n.jsxs)("nav",{className:"fixed top-3 left-1/2 transform -translate-x-1/2 bg-black/50 backdrop-blur-md text-white z-50 py-4 px-6 md:px-12 flex justify-between items-center rounded-xl w-full md:w-3/4 max-w-5xl",children:[(0,n.jsx)(l.default,{href:"/",className:"text-xl font-bold",children:"MSTREAM"}),(0,n.jsxs)("div",{className:"hidden md:flex space-x-6 items-center",children:[(0,n.jsx)(l.default,{href:"/pages/series",className:"hover:text-blue-400",children:"Serie"}),(0,n.jsx)(l.default,{href:"/pages/films",className:"hover:text-blue-400",children:"Films"})]})]}),(0,n.jsx)(c.Z,{className:"absolute inset-0 pointer-events-none",quantity:100}),(0,n.jsx)("main",{className:"flex-grow pt-24",children:(0,n.jsxs)("div",{className:"text-center mx-auto max-w-4xl p-4",children:[(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:i.filmname}),(0,n.jsx)("p",{className:"text-lg mb-6",children:i.description})]})}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("center",{children:o?(0,n.jsx)("p",{children:"Chargement du lien vid\xe9o..."}):i.iframe?(0,n.jsx)("iframe",{title:i.title,width:"900",height:"430",src:i.iframe,frameBorder:"0",allowFullScreen:!0,className:"my-4"}):(0,n.jsx)("p",{children:"Le lien vid\xe9o n est pas disponible pour ce film."})}),(0,n.jsx)("button",{onClick:f,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Signaler un probl\xe8me"})]})]}):(0,n.jsx)("div",{className:"text-center text-gray-500",children:"Loading..."})}function u(){return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(i,{})})}},1422:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),a=r(2265);function s(e){let{className:t="",quantity:r=30,staticity:s=50,ease:l=50}=e,c=(0,a.useRef)(null),i=(0,a.useRef)(null),u=(0,a.useRef)(null),o=(0,a.useRef)([]),d=function(){let[e,t]=(0,a.useState)({x:0,y:0});return(0,a.useEffect)(()=>{let e=e=>{t({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),e}(),h=(0,a.useRef)({x:0,y:0}),f=(0,a.useRef)({w:0,h:0}),m=window.devicePixelRatio;(0,a.useEffect)(()=>(c.current&&(u.current=c.current.getContext("2d")),x(),N(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}),[]),(0,a.useEffect)(()=>{p()},[d.x,d.y]);let x=()=>{w(),b()},p=()=>{if(c.current){let e=c.current.getBoundingClientRect(),{w:t,h:r}=f.current,n=d.x-e.left-t/2,a=d.y-e.top-r/2;n<t/2&&n>-t/2&&a<r/2&&a>-r/2&&(h.current.x=n,h.current.y=a)}},w=()=>{i.current&&c.current&&u.current&&(o.current.length=0,f.current.w=i.current.offsetWidth,f.current.h=i.current.offsetHeight,c.current.width=f.current.w*m,c.current.height=f.current.h*m,c.current.style.width=f.current.w+"px",c.current.style.height=f.current.h+"px",u.current.scale(m,m))},g=()=>{let e=Math.floor(Math.random()*f.current.w);return{x:e,y:Math.floor(Math.random()*f.current.h),translateX:0,translateY:0,size:Math.floor(2*Math.random())+1,alpha:0,targetAlpha:parseFloat((.6*Math.random()+.1).toFixed(1)),dx:(Math.random()-.5)*.2,dy:(Math.random()-.5)*.2,magnetism:.1+4*Math.random()}},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u.current){let{x:r,y:n,translateX:a,translateY:s,size:l,alpha:c}=e;u.current.translate(a,s),u.current.beginPath(),u.current.arc(r,n,l,0,2*Math.PI),u.current.fillStyle="rgba(72, 66, 245, ".concat(c,")"),u.current.fill(),u.current.setTransform(m,0,0,m,0,0),t||o.current.push(e)}},v=()=>{u.current&&u.current.clearRect(0,0,f.current.w,f.current.h)},b=()=>{v();for(let e=0;e<r;e++)y(g())},j=(e,t,r,n,a)=>{let s=(e-t)*(a-n)/(r-t)+n;return s>0?s:0},N=()=>{v(),o.current.forEach((e,t)=>{let r=parseFloat(j([e.x+e.translateX-e.size,f.current.w-e.x-e.translateX-e.size,e.y+e.translateY-e.size,f.current.h-e.y-e.translateY-e.size].reduce((e,t)=>Math.min(e,t)),0,20,0,1).toFixed(2));r>1?(e.alpha+=.02,e.alpha>e.targetAlpha&&(e.alpha=e.targetAlpha)):e.alpha=e.targetAlpha*r,e.x+=e.dx,e.y+=e.dy,e.translateX+=(h.current.x/(s/e.magnetism)-e.translateX)/l,e.translateY+=(h.current.y/(s/e.magnetism)-e.translateY)/l,e.x<-e.size||e.x>f.current.w+e.size||e.y<-e.size||e.y>f.current.h+e.size?(o.current.splice(t,1),y(g())):y({...e,x:e.x,y:e.y,translateX:e.translateX,translateY:e.translateY,alpha:e.alpha},!0)}),window.requestAnimationFrame(N)};return(0,n.jsx)("div",{className:t,ref:i,"aria-hidden":"true",children:(0,n.jsx)("canvas",{ref:c})})}},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=331)}),_N_E=e.O()}]);